<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Massagem</title>
    <link rel="stylesheet" href="frontend/style.css">
    <link rel="icon" href="gui/themes/img/favicon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <h1>Agendamento de Massagem</h1>
        <div class="menu-container">
            <div class="menu-icon" onclick="toggleMenu()">
                &#9776; <!-- Ícone de menu sanduíche -->
            </div>
            <div id="dropdownMenu" class="dropdown-menu">
                <button onclick="printWaitlist()">Imprimir Lista</button>
                <button onclick="openHistoryPasswordModal()">Histórico por Pessoa</button>
            </div>
        </div>
    </header>
    <div class="container main-content">
        <div class="white-background">
            <div class="tab-buttons">
                <button class="tab-button" onclick="showTab('current')"><h5 id="current-date-button">Dia Corrente</h5></button>
                <button class="tab-button" onclick="showTab('next')"><h5 id="next-date-button">Dia Corrente + 1</h5></button>
            </div>
            <div id="tab-current" class="tab-content active">
                <h3 id="current-date">Dia Corrente</h3>
                <div id="time-slots-current"></div>
                <div id="waitlist-current">
                    <h3>Lista</h3>
                    <!-- Itens da lista de espera serão adicionados aqui pelo JavaScript -->
                </div>
            </div>
            <div id="tab-next" class="tab-content">
                <h3 id="next-date">Dia Corrente + 1</h3>
                <div id="time-slots-next"></div>
                <div id="waitlist-next">
                    <h3>Lista</h3>
                    <!-- Itens da lista de espera serão adicionados aqui pelo JavaScript -->
                </div>
            </div>
        </div>
    </div>
    <!-- Modal para solicitar a senha -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Digite a senha:</h3>
            <input type="password" id="passwordInput">
            <button id="passwordSubmit">Enviar</button>
        </div>
    </div>

    <!-- Modal para informar o nome -->
    <div id="nameModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h3>Digite seu nome</h3>
            <p id="selectedTime">Você selecionou: </p>
            <input type="text" id="pnameInput" placeholder="Seu nome" />
            <button id="submitName">Confirmar</button>
        </div>
    </div>
    <!-- Modal para mostrar mensagens -->
    <div id="alertModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeAlertModal">&times;</span>
            <h3 id="alertMessage">Mensagem</h3>
            <button id="alertOkButton">OK</button>
        </div>
    </div>
    <!-- Modal para coletar as datas do dia da massagem -->
    <div id="dateModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" id="closeDateModal">&times;</span>
            <h3>Atualizar Datas</h3>
            <label for="currentDateInput">Data do Dia Corrente:</label>
            <input type="date" id="currentDateInput" />
            <label for="nextDateInput">Data do Dia Seguinte:</label>
            <input type="date" id="nextDateInput" />
            <button id="submitDate">Confirmar</button>
        </div>
    </div>
    <!-- Modal para editar o nome -->
    <div id="editNameModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('editNameModal').style.display='none'">&times;</span>
            <h3>Alterar Nome Agendado</h3>
            <label>Dia:</label>
            <select id="editDaySelect"></select>
            <label>Horário:</label>
            <select id="editSlotSelect"></select>
            <label>Novo Nome:</label>
            <input type="text" id="editNameInput" />
            <button id="editNameSubmit">Salvar</button>
        </div>
    </div>
    <!-- Atualiza as datas -->
    <div id="updateDatesModal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close" id="closeUpdateDatesModal">&times;</span>
            <h3>Atualizar Datas</h3>
            <label>Dia Corrente:</label>
            <input type="date" id="updateCurrentDateInput" />
            <label>Dia Seguinte:</label>
            <input type="date" id="updateNextDateInput" />
            <button id="updateDatesSubmit">Salvar</button>
        </div>
    </div>
    <!-- Modal para Histórico por pessoa -->
    <div id="historyModal" class="modal" style="display:none;">
        <div class="modal-content-history">
            <span class="close" id="closeHistoryModal">&times;</span>
            <h3>Consultar Histórico</h3>
            <div class="input-row">
                <label>Nome:</label>
                <select id="historyNameSelect"></select>
                <label>Mês:</label>
                <select id="monthSelect">
                    <option value="Todos">Todos</option>
                    <option value="01">Janeiro</option>
                    <option value="02">Fevereiro</option>
                    <option value="03">Março</option>
                    <option value="04">Abril</option>
                    <option value="05">Maio</option>
                    <option value="06">Junho</option>
                    <option value="07">Julho</option>
                    <option value="08">Agosto</option>
                    <option value="09">Setembro</option>
                    <option value="10">Outubro</option>
                    <option value="11">Novembro</option>
                    <option value="12">Dezembro</option>
                </select>
                <button id="historySearchBtn">Buscar</button>
                <button id="historyPrintBtn">Imprimir</button>
            </div>
            <div class="modal-scroll-content">
                <div id="historyResult"></div>
            </div>
        </div>
    </div>
    <script>
        const clearPassword = "${process.env.CLEAR_PASSWORD}";
    </script>
    
    <script src="backend/script.js"></script>
    <div class="rodape">
        <footer class="footer">
            Desenvolvido pela equipe de Q.A
        </footer>
    </div>
</body>
</html>